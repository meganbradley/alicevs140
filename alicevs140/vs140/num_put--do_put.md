---
title: "num_put::do_put"
ms.custom: na
ms.date: 09/19/2016
ms.devlang: 
  - C++
ms.prod: visual-studio-dev14
ms.reviewer: na
ms.suite: na
ms.technology: 
  - devlang-cpp
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: b017c8f0-4f0e-49c2-9db0-a44ca69e5d37
caps.latest.revision: 18
translation.priority.ht: 
  - de-de
  - ja-jp
---
# num_put::do_put
A virtual function that is called to convert a number into a sequence of **CharType**s that represents the number formatted for a given locale.  
  
## Syntax  
  
```  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    bool _Val  
) const;  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    long _Val  
) const;  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    unsigned long _Val  
) const;  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    double _Val  
) const;  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    long double _Val  
) const;  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    const void * _Val  
) const;  
virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    const long long _Val  
) const; virtual iter_type do_put(  
    iter_type _Dest,  
    ios_base& _Iosbase,  
    _Elem _Fill,  
    const unsigned long long _Val  
) const;  
```  
  
#### Parameters  
 `_Next`  
 An iterator addressing the first element of the inserted string.  
  
 `_Iosbase`  
 Specified the stream which contains locale with the numpunct facet used to punctuate the output and flags for formatting the output.  
  
 `_Fill`  
 A character that is used for spacing.  
  
 `_Val`  
 The number or Boolean type that is to be output.  
  
## Return Value  
 An output iterator the addresses the position one beyond the last element produced.  
  
## Remarks  
 The first virtual protected member function generates sequential elements beginning at `_Next` to produce an integer output field from the value of `_Val`. The function returns an iterator designating the next place to insert an element beyond the generated integer output field.  
  
 The integer output field is generated by the same rules used by the print functions for generating a series of `char` elements to a file. Each such char element is assumed to map to an equivalent element of type **CharType** by a simple, one-to-one mapping. Where a print function pads a field with either spaces or the digit 0, however, `do_put` instead uses **fill**. The equivalent print conversion specification is determined as follows:  
  
-   If **iosbase**.[flags](../vs140/ios_base--flags.md) & `ios_base::basefield` == `ios_base::`[oct](../vs140/oct---ios--.md), the conversion specification is **lo**.  
  
-   If **iosbase.flags** & **ios_base::basefield** == `ios_base::`[hex](../vs140/hex.md), the conversion specification is **lx**.  
  
-   Otherwise, the conversion specification is **ld**.  
  
 If **iosbase**.[width](../vs140/ios_base--width.md) is nonzero, a field width of this value is prepended. The function then calls **iosbase**.**width**(0) to reset the field width to zero.  
  
 Padding occurs only if the minimum number of elements *N* required to specify the output field is less than **iosbase**.[width](../vs140/ios_base--width.md). Such padding consists of a sequence of *N* – **width** copies of **fill**. Padding then occurs as follows:  
  
-   If **iosbase**.**flags** & `ios_base::adjustfield` == `ios_base::`[left](../vs140/left.md), the flag **–** is prepended. (Padding occurs after the generated text.)  
  
-   If **iosbase.flags** & **ios_base::adjustfield** == `ios_base::`[internal](../vs140/internal--Standard-C---Library-.md), the flag **0** is prepended. (For a numeric output field, padding occurs where the print functions pad with 0.)  
  
-   Otherwise, no additional flag is prepended. (Padding occurs before the generated sequence.)  
  
 Finally:  
  
-   If **iosbase**.**flags** & `ios_base::`[showpos](../vs140/showpos.md) is nonzero, the flag **+** is prepended to the conversion specification.  
  
-   If **iosbase**.**flags** & **ios_base::**[showbase](../vs140/showbase.md) is nonzero, the flag **#** is prepended to the conversion specification.  
  
 The format of an integer output field is further determined by the [locale facet](../vs140/facet-Class.md) **fac** returned by the call [use_facet](../vs140/use_facet.md) <[numpunct](../vs140/numpunct-Class.md)<**Elem**>(**iosbase**.[getloc](../vs140/ios_base--getloc.md)). Specifically:  
  
-   **fac**.[grouping](../vs140/numpunct--grouping.md) determines how digits are grouped to the left of any decimal point  
  
-   **fac**.[thousands_sep](../vs140/numpunct--thousands_sep.md) determines the sequence that separates groups of digits to the left of any decimal point  
  
 If no grouping constraints are imposed by **fac**.**grouping** (its first element has the value CHAR_MAX), then no instances of **fac**.`thousands_sep` are generated in the output field. Otherwise, separators are inserted after the print conversion occurs.  
  
 The second virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type _Next, ios_base& _Iosbase,  
    CharType _Fill, unsigned long _Val) const;  
```  
  
 behaves the same as the first, except that it replaces a conversion specification of **ld** with **lu**.  
  
 The third virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type _Next, ios_base& _Iosbase,  
    CharType _Fill, double _Val) const;  
```  
  
 behaves the same as the first, except that it produces a floating-point output field from the value of **val**.**fac**.[decimal_point](../vs140/numpunct--decimal_point.md) determines the sequence that separates the integer digits from the fraction digits. The equivalent print conversion specification is determined as follows:  
  
-   If **iosbase**.**flags** & `ios_base::floatfield` == `ios_base::`[fixed](../vs140/fixed.md), the conversion specification is **lf**.  
  
-   If **iosbase**.**flags** & **ios_base::floatfield** == `ios_base::`[scientific](../vs140/scientific.md), the conversion specification is `le`. If **iosbase**.**flags** & `ios_base::`[uppercase](../vs140/uppercase.md) is nonzero, **e** is replaced with **E**.  
  
-   Otherwise, the conversion specification is **lg**. If **iosbase**.**flags** & **ios_base::uppercase** is nonzero, **g** is replaced with **G**.  
  
 If **iosbase**.**flags** & **ios_base::fixed** is nonzero or if **iosbase**.[precision](../vs140/ios_base--precision.md) is greater than zero, a precision with the value **iosbase**.**precision** is prepended to the conversion specification. Any padding behaves the same as for an integer output field. The padding character is **fill**. Finally:  
  
-   If **iosbase**.**flags** & `ios_base::`[showpos](../vs140/showpos.md) is nonzero, the flag **+** is prepended to the conversion specification.  
  
-   If **iosbase**.**flags** & `ios_base::`[showpoint](../vs140/showpoint.md) is nonzero, the flag **#** is prepended to the conversion specification.  
  
 The fourth virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type _Next, ios_base& _Iosbase,  
    CharType _Fill, long double _Val) const;  
```  
  
 behaves the same the third, except that the qualifier **l** in the conversion specification is replaced with **L**.  
  
 The fifth virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type _Next, ios_base& _Iosbase,  
    CharType _Fill, const void *_Val) const;  
```  
  
 behaves the same the first, except that the conversion specification is `p`**,** plus any qualifier needed to specify padding.  
  
 The sixth virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type _Next, ios_base& _Iosbase,  
    CharType _Fill, bool _Val) const;  
```  
  
 behaves the same as the first, except that it generates a Boolean output field from `_Val`.  
  
 A Boolean output field takes one of two forms. If **iosbase**.**flags** & `ios_base::`[boolalpha](../vs140/boolalpha.md) is **false**, the member function returns `do_put`(_*Next*, \_*Iosbase*, \_*Fill*, (**long**)`_Val`), which typically produces a generated sequence of either 0 (for **false**) or 1 (for **true**). Otherwise, the generated sequence is either **fac**.[falsename](../vs140/numpunct--falsename.md)`)` (for **false**), or **fac**.[truename](../vs140/numpunct--truename.md) (for **true**).  
  
 The seventh virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type next, ios_base& iosbase,  
    Elem fill, long long val) const;   
```  
  
 behaves the same as the first, except that it replaces a conversion specification of **ld** with **lld**.  
  
 The eighth virtual protected member function:  
  
```  
virtual iter_type do_put(iter_type next, ios_base& iosbase,  
    Elem fill, unsigned long long val) const;   
```  
  
 behaves the same as the first, except that it replaces a conversion specification of `ld` with `llu`.  
  
## Example  
 See the example for [put](../vs140/num_put--put.md), which calls `do_put`.  
  
## Requirements  
 **Header:** <locale\>  
  
 **Namespace:** std  
  
## See Also  
 [num_put Class](../vs140/num_put-Class.md)